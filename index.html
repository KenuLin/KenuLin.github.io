<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
            <title>測試JavaScript</title>
            <script>
                // From App
                function callJSFromApp(message){
                    // document.getElementById("testDemo").innerHTML=Date();
                    document.getElementById("testDemo").innerHTML=message;
                }
                
                function sendMessage(message) {
                    document.getElementById("appSendString").innerHTML=message;
                    return "{\"status\":\"success\",\"value\":321}";
                }

                function dicationaryFromApp(dicationary) {
                    var sDecodedParam = window.atob(dicationary);

                    var dic = JSON.parse(sDecodedParam);
                    var token = dic["token"];
                    
                    document.getElementById("appSendDict").innerHTML=token;
                }
                
                // To App
                function jsCalliOS1() {
                    // 無參數
                    // postMessage必須帶參數 否則iOS收不到回調，無參數空值如postMessage({})
                    // window.webkit.messageHandlers.ToApp1.postMessage({})
                    
                    // 帶參數
                    window.webkit.messageHandlers.ToApp1.postMessage(131);
                }

                function jsCalliOS2() {
                    // Dictionary
                    window.webkit.messageHandlers.ToApp2.postMessage({"token":"abboke"});
                }

                function jsCalliOS3(message) {
                    // String
                    // window.webkit.messageHandlers.ToApp3.postMessage("Send message to Swift3")
                    window.JsInterface.searchJob(message);
                }

                function jsCalliOS4(message) {
                    // String
                    window.webkit.messageHandlers.appFunction.postMessage(message);
                    // 使用 JavaScript 與 WebView 的介面橋接方法，並傳遞參數
                    window.JsInterface.searchJob(message);
                }

                function jsCallDeepLink(message, id) {


                    // 检测用户平台
                    var platform = navigator.platform.toLowerCase();
                    var cookies = document.cookie;

                    if(platform.indexOf('android') !== -1 || platform.indexOf('Android') !== -1 || platform.indexOf('linux') !== -1 || platform.indexOf('Linux') !== -1) {
                        // 如果是Android平台
                        // 使用 JavaScript 與 WebView 的介面橋接方法，並傳遞參數
                        window.JsInterface.searchJob(message);
                    } else if(platform.indexOf('iphone') !== -1 || platform.indexOf('ipad') !== -1 || platform.indexOf('ipod') !== -1) {
                        // String
                        window.webkit.messageHandlers.appFunction.postMessage(message);
                    } else {
                        // 如果无法识别
                    }
                    // 设置元素的文本内容为平台信息
                    document.getElementById(id).textContent = platform + "<br><br>Cookies: " + cookies;
                }

            </script>
    </head>
    <body>
        
        <h1>測試Git網站修改</h1>
        
        <h1>只是顯示資料</h1>
        <p id="showInfo">測試Label段落</p>
        <button type="button" onclick="jsCallDeepLink('', 'showInfo')">呼叫APP職缺頁</button>
        
        <h1>2024/02/15 新增跳職缺頁DeepLink2</h1>
        <p id="testDeepLinkJobDetail">測試Label段落</p>
        <button type="button" onclick="jsCallDeepLink('A01_14_P01-99086405', 'testDeepLinkJobDetail')">呼叫APP職缺頁</button>
        
        <h1>2024/02/15 新增跳公司頁DeepLink</h1>
        <p id="testDeepLinkCompanyDetail">測試Label段落</p>
        <button type="button" onclick="jsCallDeepLink('A01_15_P01-1355006', 'testDeepLinkCompanyDetail')">呼叫APP公司頁</button>
        
        <h1>我的第一個 JavaScript 段落</h1>
        <p id="testDemo">測試Label段落</p>
        <button type="button" onclick="jsCalliOS1()">呼叫APP</button>
        
        <h1>我的第二個 JavaScript 段落</h1>
        <p id="appSendString">來自APPString</p>
        <button type="button" onclick="jsCalliOS2()">呼叫APPString</button>

        <h1>我的第三個 JavaScript 段落 - Android</h1>
        <p id="appSendDict">來自APPDict</p>
        <button type="button" onclick="jsCalliOS3('A02_P03-https://www.1111.com.tw/search/job?ch=16,8,128,4096,2048,819,16384%26col=da%26mnd=64,2%26page=1%26sort=desc%26tt=2,4')">呼叫APPDict</button>

        <h1>我的第四個 JavaScript 段落 - iOS</h1>
        <p id="appSendDict">給APP的Url</p>
        <button type="button" onclick="jsCalliOS4('A02_P03-https://www.1111.com.tw/search/job?ch=16,8,128,4096,2048,819,16384%26col=da%26mnd=64,2%26page=1%26sort=desc%26tt=2,4')">呼叫APPDict</button>

        <br>
        <br>

        <a href="job1111://www.1111.com.tw/deeplink?ajbl=A02_P02-月薪4萬" target="_blank" title="DeepLink - job1111方式">DeepLink - job1111方式</a>


        <br>
        <br>

        <a href="job1111://www.1111.com.tw/deeplink?ajbl=A02_P02-月薪4萬" target="_blank" title="DeepLink - MailLink方式">DeepLink - MailLink方式</a>

        <br>
        <br>

        <a href="job1111://www.1111.com.tw/deeplink?ajbl=A02_P01-100100_P02-月薪4萬" target="_blank" title="DeepLink - MailLink方式">DeepLink - P01&P02方式</a>

        <br>
        <br>

        <strong></strong><a href="https://www.1111.com.tw/MailLink/LinkT.asp?ajbl=A01_15_P01-9565124&Page=A01_15_P01&oNo=9565124&eNo=92201733&MailNo=0" target="_blank" title="DeepLink - 公司介紹頁">DeepLink - 公司介紹頁</a>

        <br>
        <br>

        <a href="https://www.1111.com.tw/MailLink/LinkT.asp?ajbl=A01_14_P01-9565124&Page=A01_14_P01&oNo=9565124&eNo=92201733&MailNo=0" target="_blank" title="DeepLink - 工作說明頁">DeepLink - 工作說明頁</a>

        <br>
        <br>

        <a href="https://www.1111.com.tw/?ajbl=A02_P03-https://www.1111.com.tw/search/job?ch=16,8,128,4096,2048,819,16384%26col=da%26mnd=64,2%26page=1%26sort=desc%26tt=2,4" target="_blank" title="DeepLink - 工作說明頁">DeepLink - 搜尋結果頁</a>

        <br>
        <br>

        <a href="https://www.1111.com.tw/1111app/" target="_blank" title="跳商店">DeepLink - 搜尋結果頁</a>增加

        
    </body>
</html>
